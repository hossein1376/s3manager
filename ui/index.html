<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buckets - S3 Manager</title>
    <link rel="stylesheet" href="css/pico.min.css">
    <link rel="stylesheet" href="css/pico.colors.min.css">
    <link rel="stylesheet" href="css/custom.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <a href="index.html" class="navbar-brand">
            <span class="navbar-icon">‚òÅÔ∏è</span>
            S3 Manager
        </a>
    </nav>

    <main class="container">
        <!-- Combined Toolbar: Create + Search -->
        <div class="toolbar">
            <form id="create-bucket-form" class="toolbar-section">
                <input
                    type="text"
                    id="bucket-name"
                    class="toolbar-input"
                    placeholder="New bucket name..."
                    autocomplete="off"
                    required
                >
                <button type="submit" class="btn btn-success">
                    <span class="btn-icon">‚ûï</span>
                    <span class="btn-text">Create</span>
                </button>
            </form>

            <span class="toolbar-divider"></span>

            <form id="bucket-filter-form" class="toolbar-section">
                <input
                    type="search"
                    id="bucket-filter"
                    class="toolbar-input"
                    placeholder="Search buckets..."
                    autocomplete="off"
                >
                <select id="bucket-page-size" class="toolbar-select">
                    <option value="10">10</option>
                    <option value="20" selected>20</option>
                    <option value="50">50</option>
                    <option value="100">100</option>
                    <option value="500">500</option>
                </select>
                <button type="submit" class="btn btn-primary">
                    <span class="btn-icon">üîç</span>
                    <span class="btn-text">Search</span>
                </button>
            </form>
        </div>

        <!-- Buckets Table -->
        <section class="table-container">
            <div class="overflow-auto">
                <table id="buckets-table">
                    <thead>
                        <tr>
                            <th>Bucket Name</th>
                            <th>Created</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Buckets loaded dynamically -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Load More Button -->
        <button id="load-more-buckets" style="display: none;">
            Load More Buckets
        </button>
    </main>

    <!-- Delete Bucket Modal -->
    <dialog id="delete-bucket-modal">
        <article>
            <h3>üóëÔ∏è Delete Bucket</h3>
            <p>Are you sure you want to delete "<strong id="delete-bucket-name"></strong>"?</p>
            <p>This action cannot be undone.</p>
            <label>
                <input type="checkbox" id="delete-bucket-recursive">
                Delete all objects (required if not empty)
            </label>
            <footer>
                <button id="cancel-delete-bucket" class="btn btn-secondary">Cancel</button>
                <button id="confirm-delete-bucket" class="btn btn-danger">
                    <span class="btn-icon">üóë</span>
                    Delete
                </button>
            </footer>
        </article>
    </dialog>

    <!-- Toast -->
    <div id="toast" class="toast" role="alert" aria-live="polite"></div>

    <!-- Scripts -->
    <script src="js/api.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/buckets.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            BucketsModule.init();
        });
    </script>
</body>
</html>
